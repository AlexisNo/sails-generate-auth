<script type="text/javascript">
login = function() {
    var data = {
        identifier: document.getElementById("identifier").value,
        password: document.getElementById("password").value
    };
    io.socket.post('/auth/local', data, function (resData, jwres){
        document.getElementById("res-data").innerHTML += "\n" + JSON.stringify(resData);
    });
};
</script>

<% if (errors) {%>
  <% errors.forEach(function (error) { %>
    <%= __(error) %>
  <% }) %>
<% } %>

<form role="form" action="/auth/local" method="post">
  <input type="text" name="identifier" id="identifier" placeholder="Username or Email">
  <input type="password" name="password" id="password" placeholder="Password">
  <button type="submit">Sign in</button>
  <button type="button" onclick="javascript: login()">Sign up by websocket</button>
</form>

<% if (Object.keys(providers).length) {%>
  <h4>You can also use one of these...</h4>

  <% Object.keys(providers).forEach(function (key) { %>
    <a href="/auth/<%= providers[key].slug %>" role="button"><%= providers[key].name %></a>
  <% }) %>
<% } %>

<h4>Authentication information retrieved by websocket:</h4>
<pre id="res-data">...</pre>
